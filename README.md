# Admin Bot Service

[![Build Status](https://img.shields.io/badge/build-passing-brightgreen)]()
[![Java Version](https://img.shields.io/badge/Java-17-orange)]()
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-4.0.1-green)]()
[![License](https://img.shields.io/badge/License-MIT-blue)]()

Telegram-–±–æ—Ç –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏. –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –±–∞–∑–æ–≤—É—é –º–æ–¥–µ—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-v10-mvp)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ)
- [API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-—Å–µ—Ä–≤–∏—Å–∞–º–∏)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- [Roadmap](#roadmap)

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|------------|
| **–Ø–∑—ã–∫** | Java 17 |
| **–§—Ä–µ–π–º–≤–æ—Ä–∫** | Spring Boot 4.0.1 |
| **Web** | Spring Web (REST –∫–ª–∏–µ–Ω—Ç—ã) |
| **–î–∞–Ω–Ω—ã–µ** | Spring Data JPA + PostgreSQL |
| **–ú–∏–≥—Ä–∞—Ü–∏–∏** | Liquibase |
| **–ö–µ—à** | Spring Data Redis |
| **–°–æ–æ–±—â–µ–Ω–∏—è** | Spring Kafka (–¥–ª—è v2.0+) |
| **Telegram** | TelegramBots 6.9.7.1 |
| **–°–±–æ—Ä–∫–∞** | Maven |
| **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** | Docker |
| **CI/CD** | GitLab CI |

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ç—Ä—ë—Ö—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º —Å–ª–æ–µ–º –¥–ª—è Telegram:

```
src/main/java/com/socialnetwork/adminbot/
‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Spring beans
‚îÇ   ‚îú‚îÄ‚îÄ RedisConfig.java
‚îÇ   ‚îú‚îÄ‚îÄ RestTemplateConfig.java
‚îÇ   ‚îî‚îÄ‚îÄ TelegramBotConfig.java
‚îú‚îÄ‚îÄ telegram/        # Telegram –±–æ—Ç –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ handler/     # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ keyboard/    # Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ messages/    # –®–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ TelegramBot.java
‚îú‚îÄ‚îÄ service/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ AdminService.java
‚îÇ   ‚îú‚îÄ‚îÄ UserService.java
‚îÇ   ‚îú‚îÄ‚îÄ StatisticsService.java
‚îÇ   ‚îî‚îÄ‚îÄ AuditLogService.java
‚îú‚îÄ‚îÄ repository/      # –°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
‚îú‚îÄ‚îÄ entity/          # JPA —Å—É—â–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ dto/             # Data Transfer Objects
‚îú‚îÄ‚îÄ client/          # HTTP –∫–ª–∏–µ–Ω—Ç—ã –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îî‚îÄ‚îÄ exception/       # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
```

### –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Telegram   ‚îÇ ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ  Admin Bot       ‚îÇ ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ  mc-account      ‚îÇ
‚îÇ   Bot API    ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ ‚îÇ  Service         ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ ‚îÇ  (User Service)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
                      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                      ‚îÇ   PostgreSQL     ‚îÇ
                      ‚îÇ   (admins,       ‚îÇ
                      ‚îÇ    audit_log)    ‚îÇ
                      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ‚≠ê –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (v1.0 MVP)

### Telegram –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é |
| `/user <id>` | –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ |
| `/ban <id>` | –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `/unban <id>` | –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã |

### –§—É–Ω–∫—Ü–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏**: –ø—Ä–æ—Å–º–æ—Ç—Ä, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
- ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –Ω–æ–≤—ã–µ –∑–∞ —Å–µ–≥–æ–¥–Ω—è, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
- ‚úÖ **–ê—É–¥–∏—Ç**: –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –ë–î
- ‚úÖ **Inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã**: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¥–æ—Å—Ç—É–ø –Ω–∞ –æ—Å–Ω–æ–≤–µ whitelist Telegram ID

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Java 17+
- Maven 3.6+
- PostgreSQL 15+
- Redis 7+
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/your-org/mc-admin.git
cd mc-admin

# 2. –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
docker-compose up -d postgres redis

# 3. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
./mvnw clean package -DskipTests

# 4. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
./mvnw spring-boot:run
```

### –ó–∞–ø—É—Å–∫ –≤ Docker

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t admin-bot-service .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -d \
  --name admin-bot \
  --network social-network-net \
  -e TELEGRAM_BOT_TOKEN=your_token \
  -e TELEGRAM_BOT_USERNAME=your_bot \
  -e SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/admin_bot_db \
  -e SPRING_DATASOURCE_PASSWORD=your_password \
  admin-bot-service
```

### Docker Compose (–ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫)

```bash
docker-compose up -d
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `SPRING_DATASOURCE_URL` | JDBC URL PostgreSQL | `jdbc:postgresql://postgres:5432/admin_bot_db` |
| `SPRING_DATASOURCE_USERNAME` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î | `postgres` |
| `SPRING_DATASOURCE_PASSWORD` | –ü–∞—Ä–æ–ª—å –ë–î | - |
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ | - |
| `TELEGRAM_BOT_USERNAME` | Username –±–æ—Ç–∞ | - |
| `ADMIN_WHITELIST` | –°–ø–∏—Å–æ–∫ Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ | `123456789` |
| `ACCOUNT_SERVICE_URL` | URL —Å–µ—Ä–≤–∏—Å–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ | `http://mc-account:8080/internal/account` |

### –ü—Ä–∏–º–µ—Ä .env —Ñ–∞–π–ª–∞

```bash
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/admin_bot_db
SPRING_DATASOURCE_USERNAME=postgres
SPRING_DATASOURCE_PASSWORD=your_password

# Telegram –±–æ—Ç
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_BOT_USERNAME=YourBotUsername

# –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (Telegram ID —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
ADMIN_WHITELIST=123456789,987654321

# –°–µ—Ä–≤–∏—Å –∞–∫–∫–∞—É–Ω—Ç–æ–≤
ACCOUNT_SERVICE_URL=http://mc-account:8080/internal/account
```

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `admins`

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| `id` | UUID | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á |
| `telegram_user_id` | BIGINT | Telegram ID (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π) |
| `username` | VARCHAR(255) | Telegram username |
| `first_name` | VARCHAR(255) | –ò–º—è |
| `role` | VARCHAR(50) | –†–æ–ª—å (SUPER_ADMIN, ADMIN, MODERATOR) |
| `is_active` | BOOLEAN | –ê–∫—Ç–∏–≤–µ–Ω |
| `created_at` | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | TIMESTAMP | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

### –¢–∞–±–ª–∏—Ü–∞ `audit_log`

| –ö–æ–ª–æ–Ω–∫–∞ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----|----------|
| `id` | UUID | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á |
| `admin_id` | BIGINT | Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| `action_type` | VARCHAR(100) | –¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è |
| `target_user_id` | UUID | ID —Ü–µ–ª–µ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `details` | JSONB | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| `created_at` | TIMESTAMP | –í—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏—è |

### –ú–∏–≥—Ä–∞—Ü–∏–∏

–ú–∏–≥—Ä–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Liquibase:

```
src/main/resources/db/changelog/
‚îú‚îÄ‚îÄ db.changelog-master.yaml
‚îî‚îÄ‚îÄ v1.0/
    ‚îú‚îÄ‚îÄ 001-create-admins-table.yaml
    ‚îî‚îÄ‚îÄ 002-create-audit-log-table.yaml
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
./mvnw test

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç –∫–ª–∞—Å—Å
./mvnw test -Dtest=AdminServiceTest

# –° –æ—Ç—á—ë—Ç–æ–º –æ –ø–æ–∫—Ä—ã—Ç–∏–∏
./mvnw test jacoco:report
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
src/test/java/com/socialnetwork/adminbot/
‚îú‚îÄ‚îÄ AdminBotApplicationTests.java    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
‚îú‚îÄ‚îÄ client/
‚îÇ   ‚îî‚îÄ‚îÄ AccountClientTest.java       # –¢–µ—Å—Ç—ã HTTP –∫–ª–∏–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îú‚îÄ‚îÄ AdminServiceTest.java        # –¢–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ –∞–¥–º–∏–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ UserServiceTest.java         # –¢–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ AuditLogServiceTest.java     # –¢–µ—Å—Ç—ã –∞—É–¥–∏—Ç –ª–æ–≥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ StatisticsServiceTest.java   # –¢–µ—Å—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ telegram/handler/
‚îÇ   ‚îú‚îÄ‚îÄ StartCommandHandlerTest.java
‚îÇ   ‚îú‚îÄ‚îÄ UserCommandHandlerTest.java
‚îÇ   ‚îú‚îÄ‚îÄ BanCommandHandlerTest.java
‚îÇ   ‚îî‚îÄ‚îÄ StatsCommandHandlerTest.java
‚îú‚îÄ‚îÄ telegram/messages/
‚îÇ   ‚îî‚îÄ‚îÄ BotMessageTest.java          # –¢–µ—Å—Ç—ã —à–∞–±–ª–æ–Ω–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îî‚îÄ‚îÄ dto/
    ‚îî‚îÄ‚îÄ DtoTest.java                 # –¢–µ—Å—Ç—ã DTO
```

**–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ: 66 —Ç–µ—Å—Ç–æ–≤**

## üö¢ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### GitLab CI/CD

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitLab CI/CD –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏ –∏ –¥–µ–ø–ª–æ—è. –§–∞–π–ª `.gitlab-ci.yml` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

**–°—Ç–∞–¥–∏–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞:**

1. **test** - –ó–∞–ø—É—Å–∫ unit-—Ç–µ—Å—Ç–æ–≤
2. **build** - –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
3. **push** - –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±—Ä–∞–∑–∞ –≤ Docker Registry
4. **deploy** - –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ GitLab Variables

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|
| `DOCKER_HUB_USER` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Docker Hub |
| `DOCKER_HUB_TOKEN` | –¢–æ–∫–µ–Ω Docker Hub |
| `DEV_SERVER_HOST` | –•–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –¥–µ–ø–ª–æ—è |
| `DEV_SERVER_USER` | SSH –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å |
| `SSH_PRIVATE_KEY` | SSH –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á |
| `POSTGRES_PASSWORD` | –ü–∞—Ä–æ–ª—å PostgreSQL |
| `REDIS_PASSWORD` | –ü–∞—Ä–æ–ª—å Redis |
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ |
| `TELEGRAM_BOT_USERNAME` | Username –±–æ—Ç–∞ |
| `ADMIN_WHITELIST` | –°–ø–∏—Å–æ–∫ Telegram ID –∞–¥–º–∏–Ω–æ–≤ |

### –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
docker pull your-registry/admin-bot-service:latest

docker stop admin-bot || true
docker rm admin-bot || true

docker run -d \
  --name admin-bot \
  --network social-network-net \
  --restart unless-stopped \
  -e TELEGRAM_BOT_TOKEN=$TELEGRAM_BOT_TOKEN \
  -e SPRING_DATASOURCE_PASSWORD=$POSTGRES_PASSWORD \
  your-registry/admin-bot-service:latest
```

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏

### Account Service (mc-account)

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ internal API:

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/internal/account/{id}` | –ü–æ–ª—É—á–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç –ø–æ ID |
| PUT | `/internal/account/block/{id}` | –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç |
| DELETE | `/internal/account/block/{id}` | –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç |
| GET | `/internal/account?page=0&size=10` | –°–ø–∏—Å–æ–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ |

## üíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### Code Style

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Lombok: `@Data`, `@Builder`, `@RequiredArgsConstructor`, `@Slf4j`
- –û—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –º–µ—Ç–æ–¥–æ–≤: `getUserById()`, `blockUser()`, `logAction()`
- –ù–µ –±—Ä–æ—Å–∞–π—Ç–µ `Exception`, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ `RuntimeException`
- Telegram handlers –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å "—Ç–æ–Ω–∫–∏–º–∏", –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö
- UUID –¥–ª—è ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, Long –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö ID
- –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤–∞–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `@Transactional` –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ë–î

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã

1. –°–æ–∑–¥–∞–π—Ç–µ handler –≤ `telegram/handler/`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ª–æ–≥–∏–∫—É, –≤—ã–∑—ã–≤–∞—è —Å–µ—Ä–≤–∏—Å—ã
3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ handler –≤ `TelegramBot.java`
4. –î–æ–±–∞–≤—å—Ç–µ –∞—É–¥–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
5. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π –≤ `BotMessage.java`
6. –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–º–∏—Ç–æ–≤

```
feat: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ /search
fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ UUID
refactor: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è StatisticsService
test: –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è CallbackQueryHandler
docs: –æ–±–Ω–æ–≤–ª—ë–Ω README
```

## üó∫ Roadmap

### v1.0 (–¢–µ–∫—É—â–∞—è) ‚úÖ

- [x] –ë–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (whitelist)
- [x] –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- [x] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- [x] –ê—É–¥–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] Inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- [x] Unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### v2.0 (–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ –ë–î
- [ ] State Machine —á–µ—Ä–µ–∑ Redis
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
- [ ] –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- [ ] –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### v3.0 (–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kafka –¥–ª—è —Å–æ–±—ã—Ç–∏–π
- [ ] Real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–∑—ã–∫–æ–≤

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - Pet project –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

## üë• –ê–≤—Ç–æ—Ä—ã

Pet project –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
